class RWC_Select extends HTMLElement{static formAssociated=!0;static get observedAttributes(){return["multiple","required","size","label_text","select_size","select_color"]}get value(){return this.Select.value}set value(e){this.Select.value=e,this.setFormValue(),this.validation()}get multiple(){return this.Select.multiple}set multiple(e){e?this.setAttribute("multiple",""):this.removeAttribute("multiple")}get required(){return this.Select.required}set required(e){e?this.setAttribute("required",""):this.removeAttribute("required")}get disabled(){return this.Select.disabled}set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){return this.Select.size}set size(e){e?this.setAttribute("size",e):this.removeAttribute("size")}get labelText(){return this.getAttribute("label_text")||""}set labelText(e){e?this.setAttribute("label_text",e):this.removeAttribute("label_text")}get selectSize(){return this.getAttribute("select_size")||""}set selectSize(e){e?this.setAttribute("select_size",e):this.removeAttribute("select_size")}get selectColor(){return this.getAttribute("select_color")||""}set selectColor(e){e?this.setAttribute("select_color",e):this.removeAttribute("select_color")}get form(){return this.internals_.form}get name(){return this.getAttribute("name")}get validity(){return this.Select.validity}get validationMessage(){return this.Select.validationMessage}get willValidate(){return this.Select.willValidate}checkValidity=()=>this.internals_.checkValidity();reportValidity=()=>this.internals_.reportValidity();setFormValue=()=>{if(!this.multiple)return void this.internals_.setFormValue(this.value);if(!this.name)return;const e=[];for(const t of this.Select.querySelectorAll("option"))t.selected&&!t.disabled&&e.push(t);if(0===e.length)return;const t=new FormData;for(const i of e){const e=i.getAttribute("value");e?t.append(this.name,e):i.hasAttribute("value")?t.append(this.name,""):t.append(this.name,i.textContent)}this.internals_.setFormValue(t)};formDisabledCallback(e){this.Select.disabled=e}formResetCallback(){const e=this.Select.querySelectorAll("option"),t=[];for(const i of e)i.hasAttribute("selected")&&t.push(i),i.selected=!1;if(0===t.length)e[0].selected=!0;else for(const e of t)e.selected=!0;this.Select.dispatchEvent(new Event("change")),this.setFormValue(),this.validation()}constructor(){super(),this.internals_=this.attachInternals(),this.init()}init(){this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(this.getTemplate().content.cloneNode(!0)),this.SelectContainer=this.shadowRoot.querySelector("div.select-container"),this.Style=this.shadowRoot.querySelector("style"),this.Select=this.shadowRoot.querySelector("select"),this.LabelTextSpan=this.shadowRoot.querySelector("span.label-text")}getTemplate(){this.defaultSelectSize="4rem",this.defaultSelectColor={h:207,s:90,l:77},this.css="\n            *,*::before,*::after{margin:0;padding:0}div.select-container{--select-size: [[select_size]];--hue-white: 0, 0%;--white: hsl(var(--hue-white), 100%);--grey-1: hsl(var(--hue-white), 87%);--grey-2: hsl(var(--hue-white), 50%);--color-1a: [[color_1a]];--color-1b: [[color_1b]];--color-2a: [[color_2a]];--color-2b: [[color_2b]];--color-3a: [[color_3a]];position:relative;width:100%;color-scheme:dark;font-size:var(--select-size);display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-sizing:border-box;box-sizing:border-box}div.select-container *,div.select-container *::before,div.select-container *::after{-webkit-box-sizing:inherit;box-sizing:inherit}div.select-container select{position:relative;height:2.5em;display:block;width:100%;background-color:var(--color-2a);border:none;border-bottom:0.0625em solid var(--grey-1);color:var(--grey-1);font-size:.4em;font-family:inherit;padding:0 .3125em;-webkit-tap-highlight-color:transparent;-webkit-transition:background-color .2s;transition:background-color .2s;cursor:pointer}div.select-container select:hover{background-color:var(--color-2b)}div.select-container select:hover ~ .hover{opacity:1}div.select-container select:focus{outline:none}div.select-container select:focus+.label-text{color:var(--color-1a);opacity:1}div.select-container select:focus ~ .focus{-webkit-transform:scaleX(1);transform:scaleX(1)}div.select-container select:disabled,div.select-container select:disabled+.label-text{color:var(--grey-2);cursor:default;pointer-events:none}div.select-container select optgroup,div.select-container select option{background-color:var(--color-3a)}div.select-container select option:hover,div.select-container select option:checked{background-color:var(--color-1b)}div.select-container select[multiple]{height:unset;min-height:6.25em;padding:unset;outline:.125em solid transparent;border:0.0625em solid var(--grey-2);-webkit-transition:outline 300ms cubic-bezier(0, 0, 0.2, 1) 0ms;transition:outline 300ms cubic-bezier(0, 0, 0.2, 1) 0ms}div.select-container select[multiple]:hover{outline-color:var(--white)}div.select-container select[multiple]:focus{outline-color:var(--color-1b)}div.select-container select[multiple] ~ .hover,div.select-container select[multiple] ~ .focus{display:none}div.select-container select[multiple]:disabled optgroup,div.select-container select[multiple]:disabled option{background-color:unset}div.select-container select[multiple] option{padding:0 .3125em}div.select-container select[multiple] option:disabled:hover{background-color:unset}div.select-container select[multiple] option:disabled:checked{background-color:unset}div.select-container .label-text{position:absolute;top:0;left:.625em;font-size:.4em;opacity:.7;line-height:2.5em;pointer-events:none;-webkit-transform-origin:top left;transform-origin:top left;-webkit-transform:translateY(-1.5em) scale(0.75);transform:translateY(-1.5em) scale(0.75)}div.select-container .hover{position:absolute;bottom:0;left:0;width:100%;height:.05em;background-color:var(--white);opacity:0;-webkit-transition:opacity .2s;transition:opacity .2s;pointer-events:none}div.select-container .focus{position:absolute;left:0;right:0;bottom:0;height:.05em;background-color:var(--color-1b);-webkit-transform:scaleX(0);transform:scaleX(0);-webkit-transition:300ms cubic-bezier(0, 0, 0.2, 1) 0ms;transition:300ms cubic-bezier(0, 0, 0.2, 1) 0ms;pointer-events:none}\n        ";const e=document.createElement("template");return e.innerHTML=`\n            <style>${this.css}</style>\n\n            <div class="select-container">\n                <select></select>\n                <span class="label-text"></span>\n                <span class="hover"></span>\n                <span class="focus"></span>\n            </div>\n        `,e}validation(){this.internals_.setValidity(this.validity,this.validationMessage,this.Select)}determineColors(){if(!this.hasAttribute("select_color")){const e=this.defaultSelectColor;return[`hsl(${e.h}, ${e.s}%, ${e.l}%)`,`hsl(${e.h}, ${e.s}%, ${.6883*e.l}%)`,`hsla(${e.h}, ${e.s}%, ${e.l}%, .035)`,`hsla(${e.h}, ${e.s}%, ${e.l}%, .07)`,`hsl(${e.h}, ${e.s}%, ${.1299*e.l}%)`]}const e=document.createElement("div");e.style.color=this.getAttribute("select_color"),document.body.appendChild(e);const t=window.getComputedStyle(e).getPropertyValue("color").replace(/[rgba()]/g,"").split(", ");document.body.removeChild(e);const i=+t[0]/255,s=+t[1]/255,l=+t[2]/255,o=Math.min(i,s,l),r=Math.max(i,s,l),n=r-o;let a=0,c=0,h=0;return 0===n?a=0:r===i?a=(s-l)/n%6:r===s?a=(l-i)/n+2:r===l&&(a=(i-s)/n+4),a=Math.round(60*a),a<0&&(a+=360),h=(r+o)/2,c=0===n?0:n/(1-Math.abs(2*h-1)),c=+(100*c).toFixed(1),h=+(100*h).toFixed(1),[`hsl(${a}, ${c}%, ${h}%)`,`hsl(${a}, ${c}%, ${.6883*h}%)`,`hsla(${a}, ${c}%, ${h}%, .035)`,`hsla(${a}, ${c}%, ${h}%, .07)`,`hsl(${a}, ${c}%, ${.1299*h}%)`]}updateSizeColor(){const[e,t,i,s,l]=this.determineColors();this.Style.innerHTML=this.css.replace("[[select_size]]",this.getAttribute("select_size")||this.defaultSelectSize).replace("[[color_1a]]",e).replace("[[color_1b]]",t).replace("[[color_2a]]",i).replace("[[color_2b]]",s).replace("[[color_3a]]",l)}DOMSubtreeModified(){this.Select.innerHTML=null;for(const e of this.children)this.Select.appendChild(e.cloneNode(!0));this.setFormValue(),this.validation()}mutationCallback(e){const t=[];for(const i of e)"attributes"===i.type.toLowerCase()&&t.push(i.target);t.every((e=>e===this))||this.DOMSubtreeModified()}connectedCallback(){this.DOMSubtreeModified(),this.updateSizeColor();const e=this.mutationCallback.bind(this);this.mutationObserver=new MutationObserver(e),this.mutationObserver.observe(this,{attributes:!0,childList:!0,subtree:!0}),this.Select.addEventListener("change",(()=>{this.setFormValue(),this.validation()}))}attributeChangedCallback(e,t,i){switch(e){case"multiple":this.hasAttribute("multiple")?this.Select.setAttribute("multiple",""):this.Select.removeAttribute("multiple");break;case"required":this.hasAttribute("required")?this.Select.setAttribute("required",""):this.Select.removeAttribute("required");break;case"size":this.hasAttribute("size")?this.Select.setAttribute("size",i):this.Select.removeAttribute("size");break;case"label_text":this.hasAttribute("label_text")?this.LabelTextSpan.textContent=i:this.LabelTextSpan.textContent=null;break;case"select_size":case"select_color":this.updateSizeColor();break;default:}this.validation()}}window.customElements.define("rwc-select",RWC_Select);