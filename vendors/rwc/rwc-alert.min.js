class RWC_Alert extends HTMLElement{static get observedAttributes(){return["alert_color","alert_size","z_index"]}get alertColor(){return this.getAttribute("alert_color")||""}set alertColor(t){t?this.setAttribute("alert_color",t):this.removeAttribute("alert_color")}get alertSize(){return this.getAttribute("alert_size")||""}set alertSize(t){t?this.setAttribute("alert_size",t):this.removeAttribute("alert_size")}get zIndex(){return this.getAttribute("z_index")||""}set zIndex(t){t?this.setAttribute("z_index",t):this.removeAttribute("z_index")}get alertDuration(){return this.getAttribute("alert_duration")||""}set alertDuration(t){t?this.setAttribute("alert_duration",t):this.removeAttribute("alert_duration")}constructor(){super(),this.init()}init(){this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(this.getTemplate().content.cloneNode(!0)),this.Alert=this.shadowRoot.querySelector(".alert"),this.Style=this.shadowRoot.querySelector("style")}getTemplate(){this.defaultAlertColor={h:197,s:71,l:73},this.defaultAlertSize="1.6rem",this.defaultZIndex="9999",this.defaultAlertDuration=5e3,this.alertTimer=null,this.css="\n            *,*::before,*::after{margin:0;padding:0}.alert{--color-1: [[color_1]];--color-2: [[color_2]];--color-3: [[color_3]];--alert-size: [[alert_size]];--z-index: [[z_index]];z-index:var(--z-index);font-size:var(--alert-size);position:fixed;top:0;left:0;width:100%;height:3.125em;transform:translateY(-3.125em);opacity:0;padding:.78125em 1.5625em;background-color:var(--color-1);color:var(--color-2);transition:.2s;box-sizing:border-box}.alert.open{transform:none;opacity:1}.alert *,.alert *::before,.alert *::after{box-sizing:inherit}.alert button{position:absolute;top:0;right:0;padding-top:.0667em;border:none;background-color:inherit;width:1.667em;height:1.667em;font-size:1.875em;font-weight:400;cursor:pointer}.alert button:hover,.alert button:focus{background-color:var(--color-3)}\n        ";const t=document.createElement("template");return t.innerHTML=`\n            <style>${this.css}</style>\n\n            <div class="alert">\n                <strong><slot name="status"></strong>\n                <span><slot name="message"></span>\n                <button type="button">Ã—</button>\n            </div>\n        `,t}openAlert(){clearTimeout(this.alertTimer),this.Alert.classList.add("open"),this.alertTimer=setTimeout((()=>{this.Alert.classList.remove("open")}),+this.alertDuration||this.defaultAlertDuration)}closeAlert(){this.Alert.classList.remove("open"),clearTimeout(this.alertTimer)}determineColors(){if(!this.hasAttribute("alert_color")){const t=this.defaultAlertColor;return[`hsl(${t.h}, ${t.s}%, ${t.l}%)`,`hsl(${t.h}, ${1.5*t.s}%, ${.2667*t.l}%)`,`hsl(${t.h}, ${t.s}%, ${.8667*t.l}%)`]}const t=document.createElement("div");t.style.color=this.getAttribute("alert_color"),document.body.appendChild(t);const e=window.getComputedStyle(t).getPropertyValue("color").replace(/[rgba()]/g,"").split(", ");document.body.removeChild(t);const r=+e[0]/255,o=+e[1]/255,i=+e[2]/255,l=Math.min(r,o,i),s=Math.max(r,o,i),a=s-l;let n=0,h=0,d=0;return 0===a?n=0:s===r?n=(o-i)/a%6:s===o?n=(i-r)/a+2:s===i&&(n=(r-o)/a+4),n=Math.round(60*n),n<0&&(n+=360),d=(s+l)/2,h=0===a?0:a/(1-Math.abs(2*d-1)),h=+(100*h).toFixed(1),d=+(100*d).toFixed(1),[`hsl(${n}, ${h}%, ${d}%)`,`hsl(${n}, ${1.5*h}%, ${.2667*d}%)`,`hsl(${n}, ${h}%, ${.8667*d}%)`]}updateStyles(){const[t,e,r]=this.determineColors();this.Style.innerHTML=this.css.replace("[[color_1]]",t).replace("[[color_2]]",e).replace("[[color_3]]",r).replace("[[alert_size]]",this.getAttribute("alert_size")||this.defaultAlertSize).replace("[[z_index]]",this.getAttribute("z_index")||this.defaultZIndex)}connectedCallback(){this.shadowRoot.querySelector("button").addEventListener("click",(()=>this.closeAlert())),this.updateStyles()}attributeChangedCallback(){this.updateStyles()}}window.customElements.define("rwc-alert",RWC_Alert);