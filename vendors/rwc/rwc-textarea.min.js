class RWC_Textarea extends HTMLElement{static formAssociated=!0;static get observedAttributes(){return["rows","cols","dirname","minlength","maxlength","placeholder","readonly","required","wrap","resize","textarea_size","textarea_color"]}get value(){return this.Textarea.value}set value(e){this.Textarea.value=e,this.setFormValue(),this.validation()}get rows(){return this.Textarea.rows}set rows(e){e?this.setAttribute("rows",e):this.removeAttribute("rows")}get cols(){return this.Textarea.cols}set cols(e){e?this.setAttribute("cols",e):this.removeAttribute("cols")}get dirName(){return this.Textarea.dirName}set dirName(e){e?this.setAttribute("dirname",e):this.removeAttribute("dirname")}get disabled(){return this.Textarea.disabled}set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get minLength(){return this.Textarea.minLength}set minLength(e){e?this.setAttribute("minlength",e):this.removeAttribute("minlength")}get maxLength(){return this.Textarea.maxLength}set maxLength(e){e?this.setAttribute("maxlength",e):this.removeAttribute("maxlength")}get placeholder(){return this.Textarea.placeholder}set placeholder(e){e?this.setAttribute("placeholder",e):this.removeAttribute("placeholder")}get readOnly(){return this.Textarea.readOnly}set readOnly(e){e?this.setAttribute("readonly",""):this.removeAttribute("readonly")}get required(){return this.Textarea.required}set required(e){e?this.setAttribute("required",""):this.removeAttribute("required")}get wrap(){return this.Textarea.wrap}set wrap(e){e?this.setAttribute("wrap",e):this.removeAttribute("wrap")}get resize(){return this.getAttribute("resize")||""}set resize(e){e?this.setAttribute("resize",e):this.removeAttribute("resize")}get textareaSize(){return this.getAttribute("textarea_size")||""}set textareaSize(e){e?this.setAttribute("textarea_size",e):this.removeAttribute("textarea_size")}get textareaColor(){return this.getAttribute("textarea_color")||""}set textareaColor(e){e?this.setAttribute("textarea_color",e):this.removeAttribute("textarea_color")}get form(){return this.internals_.form}get name(){return this.getAttribute("name")}get validity(){return this.Textarea.validity}get validationMessage(){return this.Textarea.validationMessage}get willValidate(){return this.Textarea.willValidate}checkValidity=()=>this.internals_.checkValidity();reportValidity=()=>this.internals_.reportValidity();setFormValue=()=>this.internals_.setFormValue(this.value);formDisabledCallback(e){this.Textarea.disabled=e}formResetCallback(){this.Textarea.value=this.Textarea.textContent,this.setFormValue(),this.validation()}constructor(){super(),this.internals_=this.attachInternals(),this.init()}init(){this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(this.getTemplate().content.cloneNode(!0)),this.TextareaContainer=this.shadowRoot.querySelector("div.textarea-container"),this.Style=this.shadowRoot.querySelector("style"),this.Textarea=this.shadowRoot.querySelector("textarea"),this.Placeholder=this.shadowRoot.querySelector("span.placeholder")}getTemplate(){this.defaultTextareaSize="1.6rem",this.defaultTextareaColor={h:207,s:90,l:77},this.defaultResize="both",this.css="\n            *,*::before,*::after{margin:0;padding:0}div.textarea-container{--textarea-size: [[textarea_size]];--resize: [[resize]];--hue-white: 0, 0%;--white: hsl(var(--hue-white), 100%);--grey-1: hsl(var(--hue-white), 87%);--grey-2: hsl(var(--hue-white), 50%);--grey-3: hsla(var(--hue-white), 100%, .035);--color-1a: [[color_1a]];--color-1b: [[color_1b]];--color-2a: [[color_2a]];--color-2b: [[color_2b]];position:relative;color-scheme:dark;font-size:var(--textarea-size);display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-sizing:border-box;box-sizing:border-box}div.textarea-container *,div.textarea-container *::before,div.textarea-container *::after{-webkit-box-sizing:inherit;box-sizing:inherit}div.textarea-container textarea{position:relative;height:100%;display:block;width:100%;background-color:var(--color-2a);border:none;border-bottom:0.0625em solid var(--grey-1);color:var(--grey-1);font-size:1em;font-family:inherit;padding:0 .3125em;resize:var(--resize);-webkit-tap-highlight-color:transparent;-webkit-transition:background-color .2s;transition:background-color .2s}div.textarea-container textarea::-webkit-input-placeholder{color:transparent;-webkit-user-select:none;user-select:none}div.textarea-container textarea:-ms-input-placeholder{color:transparent;-ms-user-select:none;user-select:none}div.textarea-container textarea::-ms-input-placeholder{color:transparent;-ms-user-select:none;user-select:none}div.textarea-container textarea::placeholder{color:transparent;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}div.textarea-container textarea:hover{background-color:var(--color-2b)}div.textarea-container textarea:hover ~ .hover{opacity:1}div.textarea-container textarea:focus{outline:none}div.textarea-container textarea:focus+.placeholder{color:var(--color-1a)}div.textarea-container textarea:focus+.placeholder,div.textarea-container textarea:not(:placeholder-shown)+.placeholder{opacity:1;-webkit-transform:translateY(-1.5em) scale(0.75);transform:translateY(-1.5em) scale(0.75)}div.textarea-container textarea:disabled{background-color:var(--grey-3)}div.textarea-container textarea:disabled,div.textarea-container textarea:disabled+.placeholder{color:var(--grey-2);pointer-events:none}div.textarea-container textarea:disabled ~ .hover{opacity:0}div.textarea-container .placeholder{position:absolute;top:0;left:.3125em;opacity:.7;line-height:2.5em;pointer-events:none;-webkit-transform-origin:top left;transform-origin:top left;-webkit-transition:.2s;transition:.2s}div.textarea-container .hover{position:absolute;bottom:0;left:0;width:100%;height:.125em;background-color:var(--white);opacity:0;-webkit-transition:opacity .2s;transition:opacity .2s;pointer-events:none}div.textarea-container::after{content:'';position:absolute;left:0;right:0;bottom:0;height:.125em;background-color:var(--color-1b);-webkit-transform:scaleX(0);transform:scaleX(0);-webkit-transition:300ms cubic-bezier(0, 0, 0.2, 1) 0ms;transition:300ms cubic-bezier(0, 0, 0.2, 1) 0ms;pointer-events:none}div.textarea-container.focused::after{-webkit-transform:scaleX(1);transform:scaleX(1)}\n        ";const e=document.createElement("template");return e.innerHTML=`\n            <style>${this.css}</style>\n\n            <div class="textarea-container">\n                <textarea></textarea>\n                <span class="placeholder"></span>\n                <span class="hover"></span>\n            </div>\n        `,e}validation(){this.internals_.setValidity(this.validity,this.validationMessage,this.Textarea)}determineColors(){if(!this.hasAttribute("textarea_color")){const e=this.defaultTextareaColor;return[`hsl(${e.h}, ${e.s}%, ${e.l}%)`,`hsl(${e.h}, ${e.s}%, ${.6883*e.l}%)`,`hsla(${e.h}, ${e.s}%, ${e.l}%, .035)`,`hsla(${e.h}, ${e.s}%, ${e.l}%, .07)`]}const e=document.createElement("div");e.style.color=this.getAttribute("textarea_color"),document.body.appendChild(e);const t=window.getComputedStyle(e).getPropertyValue("color").replace(/[rgba()]/g,"").split(", ");document.body.removeChild(e);const r=+t[0]/255,a=+t[1]/255,i=+t[2]/255,s=Math.min(r,a,i),o=Math.max(r,a,i),n=o-s;let l=0,h=0,c=0;return 0===n?l=0:o===r?l=(a-i)/n%6:o===a?l=(i-r)/n+2:o===i&&(l=(r-a)/n+4),l=Math.round(60*l),l<0&&(l+=360),c=(o+s)/2,h=0===n?0:n/(1-Math.abs(2*c-1)),h=+(100*h).toFixed(1),c=+(100*c).toFixed(1),[`hsl(${l}, ${h}%, ${c}%)`,`hsl(${l}, ${h}%, ${.6883*c}%)`,`hsla(${l}, ${h}%, ${c}%, .035)`,`hsla(${l}, ${h}%, ${c}%, .07)`]}updateStyles(){const[e,t,r,a]=this.determineColors();this.Style.innerHTML=this.css.replace("[[textarea_size]]",this.getAttribute("textarea_size")||this.defaultTextareaColor).replace("[[color_1a]]",e).replace("[[color_1b]]",t).replace("[[color_2a]]",r).replace("[[color_2b]]",a).replace("[[resize]]",this.getAttribute("resize")||this.defaultResize)}onDOMSubtreeModified(){this.Textarea.textContent=this.textContent,this.setFormValue(),this.validation()}connectedCallback(){this.onDOMSubtreeModified(),this.updateStyles(),this.addEventListener("DOMSubtreeModified",(()=>this.onDOMSubtreeModified())),this.Textarea.addEventListener("focus",(()=>this.TextareaContainer.classList.add("focused"))),this.Textarea.addEventListener("blur",(()=>this.TextareaContainer.classList.remove("focused"))),this.Textarea.addEventListener("input",(()=>{this.setFormValue(),this.validation()}))}attributeChangedCallback(e,t,r){switch(e){case"rows":this.hasAttribute("rows")?this.Textarea.setAttribute("rows",r):this.Textarea.removeAttribute("rows");break;case"cols":this.hasAttribute("cols")?this.Textarea.setAttribute("cols",r):this.Textarea.removeAttribute("cols");break;case"dirname":this.hasAttribute("dirname")?this.Textarea.setAttribute("dirname",r):this.Textarea.removeAttribute("dirname");break;case"minlength":this.hasAttribute("minlength")?this.Textarea.setAttribute("minlength",r):this.Textarea.removeAttribute("minlength");break;case"maxlength":this.hasAttribute("maxlength")?this.Textarea.setAttribute("maxlength",r):this.Textarea.removeAttribute("maxlength");break;case"placeholder":this.hasAttribute("placeholder")?(this.Textarea.setAttribute("placeholder",r),this.Placeholder.textContent=r):(this.Textarea.removeAttribute("placeholder"),this.Placeholder.textContent=null);break;case"readonly":this.hasAttribute("readonly")?this.Textarea.setAttribute("readonly",""):this.Textarea.removeAttribute("readonly");break;case"required":this.hasAttribute("required")?this.Textarea.setAttribute("required",""):this.Textarea.removeAttribute("required");break;case"wrap":this.hasAttribute("wrap")?this.Textarea.setAttribute("wrap",r):this.Textarea.removeAttribute("wrap");break;case"title":this.hasAttribute("title")?this.Textarea.setAttribute("title",r):this.Textarea.removeAttribute("title");break;case"textarea_size":case"textarea_color":case"resize":this.updateStyles();break;default:}this.validation()}}window.customElements.define("rwc-textarea",RWC_Textarea);