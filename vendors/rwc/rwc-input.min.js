class RWC_Input extends HTMLElement{static formAssociated=!0;static get observedAttributes(){return["type","value","readonly","size","minlength","maxlength","min","max","multiple","pattern","title","placeholder","required","step","input_size","input_color"]}get type(){return this.Input.type}set type(t){t?this.setAttribute("type",t):this.removeAttribute("type")}get value(){return this.Input.value}set value(t){this.Input.value=t,this.setFormValue(),this.validation()}get disabled(){return this.Input.disabled}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get readOnly(){return this.Input.readOnly}set readOnly(t){t?this.setAttribute("readonly",""):this.removeAttribute("readonly")}get size(){return this.Input.size}set size(t){t?this.setAttribute("size",t):this.removeAttribute("size")}get maxLength(){return this.Input.maxLength}set maxLength(t){t?this.setAttribute("maxlength",t):this.removeAttribute("maxlength")}get minLength(){return this.Input.minLength}set minLength(t){t?this.setAttribute("minlength",t):this.removeAttribute("minlength")}get max(){return this.Input.max}set max(t){t?this.setAttribute("max",t):this.removeAttribute("max")}get min(){return this.Input.min}set min(t){t?this.setAttribute("min",t):this.removeAttribute("min")}get multiple(){return this.Input.multiple}set multiple(t){t?this.setAttribute("multiple",""):this.removeAttribute("multiple")}get pattern(){return this.Input.pattern}set pattern(t){t?this.setAttribute("pattern",t):this.removeAttribute("pattern")}get placeholder(){return this.Input.placeholder}set placeholder(t){t?this.setAttribute("placeholder",t):this.removeAttribute("placeholder")}get required(){return this.Input.required}set required(t){t?this.setAttribute("required",""):this.removeAttribute("required")}get step(){return this.Input.step}set step(t){t?this.setAttribute("step",t):this.removeAttribute("step")}get inputSize(){return this.getAttribute("input_size")||""}set inputSize(t){t?this.setAttribute("input_size",t):this.removeAttribute("input_size")}get inputColor(){return this.getAttribute("input_color")||""}set inputColor(t){t?this.setAttribute("input_color",t):this.removeAttribute("input_color")}get form(){return this.internals_.form}get name(){return this.getAttribute("name")}get validity(){return this.Input.validity}get validationMessage(){return this.Input.validationMessage}get willValidate(){return this.Input.willValidate}checkValidity=()=>this.internals_.checkValidity();reportValidity=()=>this.internals_.reportValidity();setFormValue=()=>this.internals_.setFormValue(this.value);formDisabledCallback(t){this.Input.disabled=t}formResetCallback(){this.Input.value=this.Input.getAttribute("value"),this.setFormValue(),this.validation()}constructor(){super(),this.internals_=this.attachInternals(),this.init()}init(){this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(this.getTemplate().content.cloneNode(!0)),this.InputContainer=this.shadowRoot.querySelector("div.input-container"),this.Style=this.shadowRoot.querySelector("style"),this.Input=this.shadowRoot.querySelector("input"),this.Placeholder=this.shadowRoot.querySelector("span.placeholder")}getTemplate(){this.defaultInputSize="4rem",this.defaultInputColor={h:207,s:90,l:77},this.supportedTypes=["text","search","email","password","url","tel","number","month","week","date","datetime-local","time"],this.css="\n            *,*::before,*::after{margin:0;padding:0}div.input-container{--input-size: [[input_size]];--hue-white: 0, 0%;--white: hsl(var(--hue-white), 100%);--grey-1: hsl(var(--hue-white), 87%);--grey-2: hsl(var(--hue-white), 50%);--grey-3: hsla(var(--hue-white), 100%, .035);--color-1a: [[color_1a]];--color-1b: [[color_1b]];--color-2a: [[color_2a]];--color-2b: [[color_2b]];color-scheme:dark;position:relative;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;font-size:var(--input-size);height:1em;-webkit-box-sizing:border-box;box-sizing:border-box}div.input-container *,div.input-container *::before,div.input-container *::after{-webkit-box-sizing:inherit;box-sizing:inherit}div.input-container input{position:relative;height:100%;display:block;width:100%;background-color:var(--color-2a);border:none;border-bottom:0.0625em solid var(--grey-1);color:var(--grey-1);font-size:.4em;font-family:inherit;padding:0 .3125em;-webkit-tap-highlight-color:transparent;-webkit-transition:background-color .2s;transition:background-color .2s}div.input-container input::-webkit-input-placeholder{color:transparent;-webkit-user-select:none;user-select:none}div.input-container input:-ms-input-placeholder{color:transparent;-ms-user-select:none;user-select:none}div.input-container input::-ms-input-placeholder{color:transparent;-ms-user-select:none;user-select:none}div.input-container input::placeholder{color:transparent;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}div.input-container input:hover{background-color:var(--color-2b)}div.input-container input:hover ~ .hover{opacity:1}div.input-container input:focus{outline:none}div.input-container input:focus+.placeholder{color:var(--color-1a)}div.input-container input:focus+.placeholder,div.input-container input:not(:placeholder-shown)+.placeholder{opacity:1;-webkit-transform:translateY(-1.5em) scale(0.75);transform:translateY(-1.5em) scale(0.75)}div.input-container input:disabled{background-color:var(--grey-3)}div.input-container input:disabled,div.input-container input:disabled+.placeholder{color:var(--grey-2);pointer-events:none}div.input-container .placeholder{position:absolute;top:0;left:.125em;font-size:.4em;opacity:.7;line-height:2.5em;pointer-events:none;-webkit-transform-origin:top left;transform-origin:top left;-webkit-transition:.2s;transition:.2s}div.input-container .hover{position:absolute;bottom:0;left:0;width:100%;height:.05em;background-color:var(--white);opacity:0;-webkit-transition:opacity .2s;transition:opacity .2s;pointer-events:none}div.input-container::after{content:'';position:absolute;left:0;right:0;bottom:0;height:.05em;background-color:var(--color-1b);-webkit-transform:scaleX(0);transform:scaleX(0);-webkit-transition:300ms cubic-bezier(0, 0, 0.2, 1) 0ms;transition:300ms cubic-bezier(0, 0, 0.2, 1) 0ms;pointer-events:none}div.input-container.focused::after{-webkit-transform:scaleX(1);transform:scaleX(1)}\n        ";const t=document.createElement("template");return t.innerHTML=`\n            <style>${this.css}</style>\n\n            <div class="input-container">\n                <input>\n                <span class="placeholder"></span>\n                <span class="hover"></span>\n            </div>\n        `,t}validation(){this.internals_.setValidity(this.validity,this.validationMessage,this.Input)}determineColors(){if(!this.hasAttribute("input_color")){const t=this.defaultInputColor;return[`hsl(${t.h}, ${t.s}%, ${t.l}%)`,`hsl(${t.h}, ${t.s}%, ${.6883*t.l}%)`,`hsla(${t.h}, ${t.s}%, ${t.l}%, .035)`,`hsla(${t.h}, ${t.s}%, ${t.l}%, .07)`]}const t=document.createElement("div");t.style.color=this.getAttribute("input_color"),document.body.appendChild(t);const e=window.getComputedStyle(t).getPropertyValue("color").replace(/[rgba()]/g,"").split(", ");document.body.removeChild(t);const i=+e[0]/255,r=+e[1]/255,n=+e[2]/255,s=Math.min(i,r,n),o=Math.max(i,r,n),a=o-s;let u=0,l=0,h=0;return 0===a?u=0:o===i?u=(r-n)/a%6:o===r?u=(n-i)/a+2:o===n&&(u=(i-r)/a+4),u=Math.round(60*u),u<0&&(u+=360),h=(o+s)/2,l=0===a?0:a/(1-Math.abs(2*h-1)),l=+(100*l).toFixed(1),h=+(100*h).toFixed(1),[`hsl(${u}, ${l}%, ${h}%)`,`hsl(${u}, ${l}%, ${.6883*h}%)`,`hsla(${u}, ${l}%, ${h}%, .035)`,`hsla(${u}, ${l}%, ${h}%, .07)`]}updateType(){if(!this.hasAttribute("type"))return void this.Input.removeAttribute("type");const t=this.getAttribute("type");this.supportedTypes.indexOf(t)>-1?this.Input.setAttribute("type",t):this.Input.setAttribute("type","text")}updateSizeColor(){const[t,e,i,r]=this.determineColors();this.Style.innerHTML=this.css.replace("[[input_size]]",this.getAttribute("input_size")||this.defaultInputSize).replace("[[color_1a]]",t).replace("[[color_1b]]",e).replace("[[color_2a]]",i).replace("[[color_2b]]",r)}connectedCallback(){this.updateSizeColor(),this.setFormValue(),this.validation(),this.Input.addEventListener("focus",(()=>this.InputContainer.classList.add("focused"))),this.Input.addEventListener("blur",(()=>this.InputContainer.classList.remove("focused"))),this.Input.addEventListener("input",(()=>{this.setFormValue(),this.validation()})),this.Input.addEventListener("keydown",(t=>{if("ENTER"!==t.key.toUpperCase())return;if(!this.form)return;let e=this.form.querySelector('[type="submit"]');if(e)return void e.click();const i=document.createElement("button");i.type="submit",i.style.display="none",this.form.appendChild(i),i.click(),i.remove()})),this.Input.addEventListener("keyup",(t=>{t.key.toUpperCase().startsWith("ARROW")&&this.validation()}))}attributeChangedCallback(t,e,i){switch(t){case"type":this.updateType();break;case"value":this.hasAttribute("value")?this.Input.setAttribute("value",i):this.Input.removeAttribute("value");break;case"readonly":this.hasAttribute("readonly")?this.Input.setAttribute("readonly",""):this.Input.removeAttribute("readonly");break;case"size":this.hasAttribute("size")?this.Input.setAttribute("size",i):this.Input.removeAttribute("size");break;case"maxlength":this.hasAttribute("maxlength")?this.Input.setAttribute("maxlength",i):this.Input.removeAttribute("maxlength");break;case"minlength":this.hasAttribute("minlength")?this.Input.setAttribute("minlength",i):this.Input.removeAttribute("minlength");break;case"max":this.hasAttribute("max")?this.Input.setAttribute("max",i):this.Input.removeAttribute("max");break;case"min":this.hasAttribute("min")?this.Input.setAttribute("min",i):this.Input.removeAttribute("min");break;case"multiple":this.hasAttribute("multiple")?this.Input.setAttribute("multiple",""):this.Input.removeAttribute("multiple");break;case"pattern":this.hasAttribute("pattern")?this.Input.setAttribute("pattern",i):this.Input.removeAttribute("pattern");break;case"title":this.hasAttribute("title")?this.Input.setAttribute("title",i):this.Input.removeAttribute("title");break;case"placeholder":this.hasAttribute("placeholder")?(this.Input.setAttribute("placeholder",i),this.Placeholder.textContent=i):(this.Input.removeAttribute("placeholder"),this.Placeholder.textContent=null);break;case"required":this.hasAttribute("required")?this.Input.setAttribute("required",""):this.Input.removeAttribute("required");break;case"step":this.hasAttribute("step")?this.Input.setAttribute("step",i):this.Input.removeAttribute("step");break;case"input_size":case"input_color":this.updateSizeColor();break;default:}this.validation()}}window.customElements.define("rwc-input",RWC_Input);